---
title: "Flow Tools"
description: "Description of your new file."
---

Flow-based tools allow your **AI Voice Assistant** to execute powerful logic inside Salesforce ‚Äî without writing code, you just build an **Autolaunched Flow**, and then connect it as a "Tool" in your ConverseKit app.

## üõ†Ô∏è Example Use Case: Create Case Tool

Let‚Äôs say your assistant is talking to a customer who wants to report a complaint. You want the assistant to:

- Capture the \*\*_customer‚Äôs name_, _contact number_ \*\*and **_complaint_**
- Check if a contact already exists in CRM using the customer‚Äôs phone number.
- If found, create a **Case** and relate it to that contact.
- If not found, create a new **Contact**, then create the **Case record** in Salesforce with that new contact.
- Return the **Case Number** and **Case Subject** as output.

This is the backend automation logic behind a tool named `Create_Case`.

This is a great use case for a **Flow-based Tool**. We‚Äôll use a Salesforce **Autolaunched Flow** to handle the backend logic while your assistant keeps the conversation going.

---

### üß± Required Flow Inputs (Match Tool Parameters)

These inputs come from the assistant, so make sure the variable names match exactly in your flow:

| Variable Name    | Type   | Description                     | Input |
| :--------------- | :----- | :------------------------------ | :---- |
| `name`           | String | Customer's full name            | ‚úÖ     |
| `contact_number` | Number | Mobile number with country code | ‚úÖ     |
| `complaint`      | String | Complaint or issue description  | ‚úÖ     |

> üîÅ Make sure these match the Flow input variable names exactly.\
> üß± Use `snake_case` for consistency and better integration.

### üéÅ Flow Outputs

Your flow is returning two variables back to ConverseKit:

| Variable Name          | Type   | Description                  | Output |
| :--------------------- | :----- | :--------------------------- | :----- |
| `created_caseid`       | String | ID of the created Case       | ‚úÖ      |
| `created_case_subject` | String | Subject line of the new Case | ‚úÖ      |

These are marked as **Output variables** in the flow, so the assistant can access and say them after execution.

## üß≠ Steps to Build the Flow

<Steps>
  <Step title="Create a New Auto-Launched Flow">
    1. Go to **Setup ‚Üí Flows**
    2. Click **New Flow**
    3. Select **Auto-Launched Flow (No Trigger)**
    4. Click **Create**
  </Step>
  <Step title="Add Input Variables">
    1. Click **New Resource ‚Üí Variable**
       - Name: `name`
       - Data Type: Text
       - Check **Available for Input**

    Repeat for:

    - `contact_number` (Number, input)
    - `complaint` (Text, input)
  </Step>
  <Step title="Lookup Existing Contact">
    1. Drag an **Element ‚Üí Get Records**
       - Label: Fetch Contact
       - Object: `Contact`
       - Filter: `MobilePhone Equals {!contact_number}`
       - Select **Only the first record**
       - Store all fields
    2. Connect this to a **Decision** element
       - Label: `Record Found?`
       - Outcome 1: Yes ‚Üí If `Fetch_Contact.Id Is Null False`
       - Default: No (contact not found)
  </Step>
  <Step title="Create Records">
    **_<u>If Contact Found ‚Üí Create Case:</u>_**

    1. Use **Create Records**
       - Object: `Case`
       - Fields:
         - `ContactId = {!Fetch_Contact.Id}`
         - `Subject = {!complaint}`
         - `priority = Medium`

    **_<u>If Contact Not Found ‚Üí Create Contact ‚Üí Create Case:</u>_**

    1. Create `Contact` using:
       - `LastName = {!name}`
       - `MobilePhone = {!contact_number}`
    2. Create `Case ` using `Contact.Id` from above new contact

       Fields:
       - `ContactId =` Contact Id from above new conact
       - `Subject = {!complaint}`
       - `priority = Medium`
  </Step>
  <Step title="Create Output Variables">
    1. Click **New Resource ‚Üí Variable**
       - Name: `created_case_id`
       - Data Type: Text
       - Check **Available for Output**

    Repeat for:

    - `created_case_subject` ‚Äì Text ‚Äì **Available for Output**
  </Step>
  <Step title="Add Output Assignment">
    1. Use an **Assignment** element:
       - Assign `created_case_id = Case.Id`
       - Assign `created_case_subject = {!complaint}`
  </Step>
  <Step title="Save & Activate">
    1. Name the Flow: `Create Voice Case`
    2. Set **API Name**: `create_voice_case`
    3. Click **Activate**
  </Step>
</Steps>

Once All done, you will find a flow like below.

![image.png](/images/image.png)

Now that your backend logic is ready, it‚Äôs time to register this flow as a **Tool**.

<Card title="Create Tool" icon="sparkles">
  Let‚Äôs walk through how to create a Tool
</Card>